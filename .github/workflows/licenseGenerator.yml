name: licenseGenerator
on:
  schedule:
    - cron: '1 1 1 * *'

jobs:
  run:
    name: Generate License
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.6

      - name: Generate License
        uses: yi-Xu-0100/license-generator@v0.1.0
        with:
          path: LICENSE
          type: MIT
          year: 2024
          author: Joshua Ross

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v3.6.0
        with:
          commit-message: Update LICENSE
          branch: update-license-patch
          delete-branch: true
          title: '[action] Update LICENSE'
          body: |
            Update LICENSE

            - LICENSE generate with [license-generator][0]
            - Auto-generated by [create-pull-request][1]

            [0]: https://github.com/yi-Xu-0100/license-generator
            [1]: https://github.com/peter-evans/create-pull-request

          labels: |
            LICENSE
            automated pr
            GitHub action